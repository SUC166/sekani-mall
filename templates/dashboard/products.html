{% extends 'base.html' %}
{% block title %}Products - SEKANI Dashboard{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold">Manage Products</h3>
    <a href="{% url 'add_product' %}" class="btn btn-sekani"><i class="bi bi-plus"></i> Add Product</a>
</div>
<div class="table-responsive">
<table class="table table-hover">
    <thead class="table-dark"><tr><th>Image</th><th>Name</th><th>Price</th><th>Stock</th><th>Status</th><th>Featured</th><th>Actions</th></tr></thead>
    <tbody>
    {% for product in products %}
    <tr>
        <td>{% if product.images.first %}<img src="{{ product.images.first.image.url }}" style="width:50px;height:50px;object-fit:cover;" class="rounded">{% endif %}</td>
        <td>{{ product.name }}</td>
        <td>₦{{ product.price|floatformat:2 }}</td>
        <td>{{ product.stock }}</td>
        <td><span class="badge {% if product.status == 'active' %}bg-success{% elif product.status == 'out_of_stock' %}bg-warning{% else %}bg-secondary{% endif %}">{{ product.get_status_display }}</span></td>
        <td>{% if product.is_featured %}⭐{% endif %}</td>
        <td><a href="{% url 'edit_product' product.id %}" class="btn btn-sm btn-outline-primary">Edit</a></td>
    </tr>
    {% empty %}
    <tr><td colspan="7" class="text-center text-muted">No products yet. <a href="{% url 'add_product' %}">Add one!</a></td></tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
