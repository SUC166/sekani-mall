{% extends 'base.html' %}
{% block title %}Discounts - SEKANI Dashboard{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold">Discount Codes</h3>
    <a href="{% url 'add_discount' %}" class="btn btn-sekani"><i class="bi bi-tag"></i> New Code</a>
</div>
<div class="table-responsive">
<table class="table table-hover">
    <thead class="table-dark"><tr><th>Code</th><th>Type</th><th>Value</th><th>Used</th><th>Valid Until</th><th>Active</th></tr></thead>
    <tbody>
    {% for d in discounts %}
    <tr>
        <td><strong>{{ d.code }}</strong></td>
        <td>{{ d.get_discount_type_display }}</td>
        <td>{% if d.discount_type == 'percentage' %}{{ d.value }}%{% else %}â‚¦{{ d.value }}{% endif %}</td>
        <td>{{ d.times_used }}/{{ d.max_uses }}</td>
        <td>{{ d.valid_to|date:"d M Y" }}</td>
        <td>{% if d.is_active and d.is_valid %}<span class="badge bg-success">Active</span>{% else %}<span class="badge bg-secondary">Inactive</span>{% endif %}</td>
    </tr>
    {% empty %}
    <tr><td colspan="6" class="text-center text-muted">No discount codes yet.</td></tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
